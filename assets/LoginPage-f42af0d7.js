import{r as s,E as y,L as j,j as e,s as v,a as w}from"./index-c362957b.js";import{a as N}from"./axios-21b846bc.js";import{l as C}from"./urlsAuthentication-d973b73d.js";import{E as k,a as E}from"./EyeFilledIcon-fa740467.js";import{i as m}from"./chunk-XQ2PV7KF-204bdf7f.js";import{b as I}from"./chunk-IPGVXZ3J-42ffdda3.js";import"./baseUrl-32bae851.js";const x={label:"text-sm font-medium text-gray-500",inputWrapper:["border border-gray-400"],input:"text-sm font-medium text-gray-700"};function R({setLoggedIn:u}){const[n,o]=s.useState(""),[i,a]=s.useState(""),[r,f]=s.useState(!1),{error:l,setError:c}=s.useContext(y),{loading:g,setLoading:d}=s.useContext(j),p=async t=>{t.preventDefault(),d(!0);try{const h=(await N.post(C,{username:n,password:i})).data.token;window.localStorage.setItem("token",h),u(!0),a(""),o(""),window.location.href="/"}catch{o(""),a(""),c("Nombre de usuario o contraseña incorrectos")}finally{d(!1)}};return e.jsx("div",{className:"flex flex-col justify-center min-h-screen py-12 flex-1px-6 bg-gradient-to-tr from-blue-400 to-red-300 lg:px-8",children:e.jsxs("main",{className:"flex flex-col h-full gap-4 p-6 mx-auto overflow-y-auto bg-gray-200 border-2 border-gray-300 rounded-md shadow-sm md:max-w-screen-sm w-80",children:[e.jsx("div",{children:e.jsx("h2",{className:"py-4 text-2xl font-bold leading-9 tracking-tight text-center text-gray-700",children:"Inicio de sesión"})}),l&&e.jsx("p",{className:"flex mb-4 text-red-500",children:l}),g?e.jsx(v,{size:"lg"}):e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{className:"space-y-6",method:"POST",children:[e.jsx(m,{variant:"bordered",color:"primary",className:"max-w-xs",label:"Nombre de usuario",classNames:x,onChange:t=>o(t.target.value),value:n,required:!0}),e.jsx(m,{label:"Contraseña",variant:"bordered",color:"primary",classNames:x,endContent:e.jsx(I,{isIconOnly:!0,variant:"light",className:"focus:outline-none",onClick:()=>f(!r),children:r?e.jsx(k,{className:"text-2xl pointer-events-none text-default-400"}):e.jsx(E,{className:"text-2xl pointer-events-none text-default-400"})}),type:r?"text":"password",className:"max-w-xs",value:i,onChange:t=>a(t.target.value),required:!0}),e.jsx("div",{children:e.jsx("button",{type:"submit",onClick:p,className:"flex items-center justify-center w-full rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Iniciar Sesión"})})]}),e.jsxs("p",{className:"mt-8 text-sm text-center text-gray-600",children:["¿No tienes una cuenta?"," ",e.jsx(w,{to:"/register",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",onClick:()=>c(),children:"Regístrate"})]})]})]})})}export{R as LoginForm,R as default};
