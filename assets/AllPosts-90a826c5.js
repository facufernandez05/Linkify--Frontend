import{t as D,m as V,r as c,g as W,i as H,j as s,L as K,a as q}from"./index-f33d37de.js";import{a as G,u as J,b as Q,c as T}from"./CommentsPost-70f47aa0.js";import{u as X}from"./useMyProfileData-3913a7c4.js";import{s as Y}from"./chunk-26CMBM6O-2a2f4158.js";import{u as ee,c as L,b as C}from"./chunk-IPGVXZ3J-dbcb5a3b.js";import"./axios-21b846bc.js";import"./baseUrl-32bae851.js";import"./urlsPost-9698314f.js";import"./import-c5f9367b.js";import"./Combination-e4d2df35.js";import"./urlsUsers-ca1c08d1.js";import"./chunk-XQ2PV7KF-087327bd.js";var _=D({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function se(m){const[a,t]=V(m,_.variantKeys),{ref:p,as:u,src:e,className:n,classNames:r,loading:l,isBlurred:w,fallbackSrc:d,isLoading:f,disableSkeleton:g=!!d,removeWrapper:b=!1,onError:o,onLoad:x,srcSet:v,sizes:j,crossOrigin:k,...B}=a,N=G({src:e,loading:l,onError:o,onLoad:x,ignoreFallback:!1,srcSet:v,sizes:j,crossOrigin:k}),I=N==="loaded"&&!f,y=N==="loading"||f,M=m.isZoomed,O=u||"img",P=ee(p),{w:R}=c.useMemo(()=>({w:a.width?typeof a.width=="number"?`${a.width}px`:a.width:"fit-content"}),[a==null?void 0:a.width]),z=(!e||!I)&&!!d,S=y&&!g,i=c.useMemo(()=>_({...t,showSkeleton:S}),[...Object.values(t),S]),Z=W(n,r==null?void 0:r.img),E=(h={})=>{const F=W(Z,h==null?void 0:h.className);return{src:e,ref:P,"data-loaded":L(I),className:i.img({class:F}),loading:l,srcSet:v,sizes:j,crossOrigin:k,...B}},U=c.useCallback(()=>{const h=z?{backgroundImage:`url(${d})`}:{};return{className:i.wrapper({class:r==null?void 0:r.wrapper}),style:{...h,maxWidth:R}}},[i,z,d,r==null?void 0:r.wrapper]),$=c.useCallback(()=>({src:e,"aria-hidden":L(!0),className:i.blurredImg({class:r==null?void 0:r.blurredImg})}),[i,e,r==null?void 0:r.blurredImg]);return{Component:O,domRef:P,slots:i,classNames:r,isBlurred:w,disableSkeleton:g,fallbackSrc:d,removeWrapper:b,isZoomed:M,isLoading:y,getImgProps:E,getWrapperProps:U,getBlurredImgProps:$}}var A=H((m,a)=>{const{Component:t,domRef:p,slots:u,classNames:e,isBlurred:n,isZoomed:r,fallbackSrc:l,removeWrapper:w,disableSkeleton:d,getImgProps:f,getWrapperProps:g,getBlurredImgProps:b}=se({...m,ref:a}),o=s.jsx(t,{ref:p,...f()});if(w)return o;const x=s.jsx("div",{className:u.zoomedWrapper({class:e==null?void 0:e.zoomedWrapper}),children:o});return n?s.jsxs("div",{...g(),children:[r?x:o,c.cloneElement(o,b())]}):r||!d||l?s.jsxs("div",{...g(),children:[" ",r?x:o]}):o});A.displayName="NextUI.Image";var re=A;function fe(){const{publicaciones:m,handleLikePost:a}=J(),{myUserId:t,myUsername:p}=X(),{loading:u}=c.useContext(K);return s.jsx(s.Fragment,{children:m.map(e=>{var n,r,l;return s.jsxs("div",{className:"flex flex-col p-2 m-2 border-b-2 rounded-md shadow-md max-md:mx-2 md:gap-2 bg-palette-2 border-palette-2 max-md:max-w-sm max-md:p-2",children:[s.jsxs("main",{className:"",children:[s.jsx(Q,{publicacion:e,myUsername:p,myUserId:t}),s.jsx("section",{className:"flex items-center",children:u?s.jsx(Y,{className:"bg-palette-2 md:h-468 md:w-468 max-md:w-80 max-md:h-80 rounded-xl"}):s.jsx(re,{src:e.image,alt:"PublicaciÃ³n",className:"object-cover rounded-md md:h-468 md:w-468 max-md:w-80 max-md:h-80",loading:"lazy"})}),s.jsxs("section",{className:"flex flex-col gap-2 p-2 border-b border-palette-1",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(C,{isIconOnly:!0,onPress:()=>a(e==null?void 0:e.id),color:"danger",size:"md",className:"hover:bg-palette-6",children:(n=e==null?void 0:e.likes_users)!=null&&n.includes(t)?s.jsx("i",{className:"text-xl fa-solid fa-heart"}):s.jsx("i",{className:"text-xl fa-regular fa-heart"})}),s.jsx(q,{to:`/publicacion/${e.id}`,children:s.jsx(C,{isIconOnly:!0,color:"primary",size:"md",children:s.jsx("i",{className:"text-xl text-white fa-regular fa-comment"})})})]}),s.jsxs("p",{className:"text-bold",children:[e.likes," Me gusta"]}),s.jsxs("p",{className:"inline-block break-words max-w-468 text-md",children:[s.jsxs("span",{className:"font-bold",children:[e.user&&((l=(r=e==null?void 0:e.user)==null?void 0:r.user)==null?void 0:l.username)," "]}),e.caption.charAt(0).toUpperCase()+e.caption.slice(1)]})]})]}),s.jsx("section",{className:"relative flex flex-col px-2 pt-2",children:s.jsx(T,{id:e.id})})]},e.id)})})}export{fe as AllPosts,fe as default};
